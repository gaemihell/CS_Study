## Cookie & Session

### 1. 쿠키와 세션이 필요한 이유 with HTTP의 특성

HTTP 프로토콜의 특성
- 비연결성(connectionless) : 서버와 클라이언트가 한번 연결이 되고 요청과 응답을 주고 받은 후에 연결을 끊어버리는 특성 
  
> 장 : 연결을 유지에 드는 리소스를 줄임
> 단 : 매번 연결/해제를 해야해서 오버헤드발생
> 해결책 : KeepAlive을 통해 지정된 시간동안 패킷 교환이 없을 경우 안부를 묻기위해 패킷을 주기적으로 보내 반응이 없으면 연결 끊기 
  
- 무상태(stateless): 연결이 끊기면서 가지고 있던 상태들을 기억하지 않는 것입니다. 예를들어 같은 클라이언트에게 다시 요청이 왔어도 서버에게는 새로운 클라이언트와 다름이 없고 그전에 어떤 요청과 응답을 주고 받았는지 기억하지 않는 것입니다.  

> 장 : 상태를 저장하는데 드는 리소스 줄임
> 단 : 매번 이전상태를 모르기 때문에 로그인같은 상황에서는 인증을 해야하는 번거로움
> 해결책 : 쿠키와 세션


### 2. 쿠키(Cookie)

클라이언트를 식별할 수 있도록 하는 작은 데이터 파일입니다. 

![](https://miro.medium.com/max/1060/1*fWfKsO9P2rReNzJM2doBhQ.png)

- Response 헤더에 Set-Cookie로 쿠키생성해서 응답
- 클라이언트는 쿠키 저장
- 같은 요청시 쿠키가 유효하다면 Request헤더에 넣어서 서버에게 전송
- 서버에서 쿠키를 변경해야할 경우 업데이트한 쿠키를 넣어서 응답

사용예) 
- 장바구니 담아두기
- 아이디와 비밀번호 저장
- 자동로그인
  
> 하지만 이렇게 브라우저(클라이언트)쪽에서 사용자 정보를 저장하는 것은 위변조 공격에 취약합니다. 

### 3. 세션(Session)




